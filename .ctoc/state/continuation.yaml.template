# ═══════════════════════════════════════════════════════════════════════════════
#  CTOC Continuation State Template
#  Auto-saved by agents, used to resume after context compaction
# ═══════════════════════════════════════════════════════════════════════════════
#
#  This file captures context-rich state for seamless continuation.
#  More valuable than a simple checklist because decisions and reasoning persist.
#
#  Priority Information (ranked by usefulness after compaction):
#    1. CRITICAL: Decision context - "We chose approach X because Y"
#    2. CRITICAL: Current goal - "We're implementing OAuth for user auth"
#    3. HIGH: Step + progress - "Step 9, 3/10 files done"
#    4. HIGH: Blockers hit - "Had to work around X"
#    5. MEDIUM: File completion list - Can be verified by reading
#    6. LOW: Line-level progress - If file incomplete, redo it
#
# ═══════════════════════════════════════════════════════════════════════════════

session:
  started: "{{TIMESTAMP}}"
  last_updated: "{{TIMESTAMP}}"

# The north star - what we're building
goal:
  summary: "Brief description of what we're building"
  acceptance_criteria:
    - "Criterion 1: What success looks like"
    - "Criterion 2: Another success metric"

# Current Iron Loop position
iron_loop:
  current_step: 1
  step_name: "ASSESS"
  step_started: "{{TIMESTAMP}}"

# CRITICAL: Decisions that should NOT be second-guessed
# These persist so Claude won't redo decisions differently after compaction
key_decisions:
  # Example:
  # - decision: "Use authlib instead of python-social-auth"
  #   reason: "Better maintained, cleaner API"
  #   made_at: "step 4"

# Problems we solved (don't re-discover)
blockers_resolved:
  # Example:
  # - blocker: "Google OAuth requires HTTPS in production"
  #   resolution: "Added dev mode with HTTP allowed for localhost"

# File-level progress tracking
progress:
  completed_files:
    # - path/to/completed_file.py

  in_progress:
    # file: "path/to/current.py"
    # notes: "Working on token refresh logic"

  pending:
    # - path/to/next.py

# Known issues or reminders (don't block on these)
warnings:
  # - "Google OAuth app not yet configured in production"
  # - "Rate limiting not implemented"

# Session metrics (optional, for admin dashboard)
metrics:
  files_created: 0
  files_modified: 0
  tests_written: 0
  tokens_used: 0
